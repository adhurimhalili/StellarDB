<div class="p-[25px]">
  <mat-card appearance="outlined">
    <!-- Header -->
    <mat-card-header>
      <mat-card-title class="h3">{{title}}</mat-card-title>
      <!--<mat-card-subtitle class="">List</mat-card-subtitle>-->
      <span class="spacer"></span>
    </mat-card-header>

    <!-- Table Component -->
    <app-custom-table [columns]="tableColumns"
                      [availableActions]="availableActions"
                      [objects]="objects"
                      [isLoading]="isLoading"
                      [expandableRows]="true"
                      [expandedElement]="expandedElement"
                      (openForm)="onOpenForm($event)"
                      (delete)="onDelete($event)"
                      (export)="onExport($event)"
                      (fileSelected)="onImportFile($event)"
                      (toggleExpand)="onToggleExpand($event)">

      <!-- Define the expanded content template -->
      <ng-template #expandedContent let-element>
        <div class="grid lg:grid-cols-2 gap-6 p-4">

          <!-- List Role Claims -->
          <div *ngIf="element.claims && element.claims.length > 0" class="mb-6">
            <ul class="list-disc pl-5">
              <li *ngFor="let claim of element.claims">
                {{ claim.claimType }} : {{ claim.claimValue }}
              </li>
            </ul>
          </div>

          <!-- No Data Message -->
          <div *ngIf="!element.claims || element.claims.length === 0"
               class="text-gray-500 text-center py-4">
            No claims assigned to this role.
          </div>
        </div>
      </ng-template>

    </app-custom-table>
  </mat-card>
</div>
